{"ast":null,"code":"var _jsxFileName = \"/home/desafree/social333/src/pages/Update.js\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from \"react-router\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig/firebaseConfig\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = () => {\n  _s();\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const post = location.state.post;\n  const id = location.state.id;\n  console.log(post, id);\n\n  function updatePost(e) {\n    e.preventDefault();\n    const formRef = document.querySelector('form');\n    const titleNew = formRef.title.value;\n    const contentNew = formRef.content.value;\n    const date = new Date();\n    let dateTextNew = date.toString();\n    const docRef = doc(db, 'posts', post.id);\n    updateDoc(docRef, {\n      title: titleNew,\n      content: contentNew,\n      time: dateTextNew\n    }).then(() => {\n      console.log('update doc');\n      navigate('/');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        updatePost(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        defaultValue: post.title,\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: post.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"content\",\n        children: \"content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"content\",\n        id: \"content\",\n        cols: \"30\",\n        rows: \"10\",\n        defaultValue: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.upvote\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Update post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Update, \"ZmJpvzBBf8J7VCgSKqUUk0eHjAY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["/home/desafree/social333/src/pages/Update.js"],"names":["useLocation","doc","updateDoc","db","useNavigate","Update","location","navigate","post","state","id","console","log","updatePost","e","preventDefault","formRef","document","querySelector","titleNew","title","value","contentNew","content","date","Date","dateTextNew","toString","docRef","time","then","user","upvote"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,EAAT,QAAmB,kCAAnB;AACA,SAASC,WAAT,QAA4B,cAA5B;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEjB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAMO,QAAQ,GAAGH,WAAW,EAA5B;AACA,QAAMI,IAAI,GAAGF,QAAQ,CAACG,KAAT,CAAeD,IAA5B;AACA,QAAME,EAAE,GAAGJ,QAAQ,CAACG,KAAT,CAAeC,EAA1B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAiBE,EAAjB;;AAEA,WAASG,UAAT,CAAoBC,CAApB,EAAuB;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAhB;AAEA,UAAMC,QAAQ,GAAGH,OAAO,CAACI,KAAR,CAAcC,KAA/B;AACA,UAAMC,UAAU,GAAGN,OAAO,CAACO,OAAR,CAAgBF,KAAnC;AACA,UAAMG,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,QAAIC,WAAW,GAAGF,IAAI,CAACG,QAAL,EAAlB;AAEA,UAAMC,MAAM,GAAG3B,GAAG,CAACE,EAAD,EAAK,OAAL,EAAcK,IAAI,CAACE,EAAnB,CAAlB;AACAR,IAAAA,SAAS,CAAC0B,MAAD,EAAQ;AACbR,MAAAA,KAAK,EAACD,QADO;AAEbI,MAAAA,OAAO,EAACD,UAFK;AAGbO,MAAAA,IAAI,EAACH;AAHQ,KAAR,CAAT,CAIGI,IAJH,CAIQ,MAAI;AACRnB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAL,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,KAPD;AAQH;;AAED,sBACI;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAGO,CAAD,IAAK;AACjBD,QAAAA,UAAU,CAACC,CAAD,CAAV;AACH,OAFD;AAAA,8BAGI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,OAAtB;AAA8B,QAAA,YAAY,EAAEN,IAAI,CAACY,KAAjD;AAAwD,QAAA,IAAI,EAAC;AAA7D;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,kBAAKZ,IAAI,CAACuB;AAAV;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAU,QAAA,IAAI,EAAC,SAAf;AAAyB,QAAA,EAAE,EAAC,SAA5B;AAAsC,QAAA,IAAI,EAAC,IAA3C;AAAgD,QAAA,IAAI,EAAC,IAArD;AAA0D,QAAA,YAAY,EAAEvB,IAAI,CAACe;AAA7E;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAA,kBAAIf,IAAI,CAACqB;AAAT;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAA,kBAAIrB,IAAI,CAACwB;AAAT;AAAA;AAAA;AAAA;AAAA,cATJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH,CA5CD;;GAAM3B,M;UAEeL,W,EACAI,W;;;KAHfC,M;AA8CN,eAAeA,MAAf","sourcesContent":["import { useLocation } from \"react-router\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig/firebaseConfig\";\nimport { useNavigate } from \"react-router\";\n\nconst Update = () => {\n\n    const location = useLocation()\n    const navigate = useNavigate()\n    const post = location.state.post\n    const id = location.state.id\n    console.log(post,id)\n\n    function updatePost(e) {\n        e.preventDefault()\n        const formRef = document.querySelector('form')\n\n        const titleNew = formRef.title.value\n        const contentNew = formRef.content.value\n        const date = new Date();\n        let dateTextNew = date.toString()\n\n        const docRef = doc(db, 'posts', post.id)\n        updateDoc(docRef,{\n            title:titleNew,\n            content:contentNew,\n            time:dateTextNew\n        }).then(()=>{\n            console.log('update doc')\n            navigate('/')\n        })\n    }\n\n    return ( \n        <div>\n            <form onSubmit={(e)=>{\n                updatePost(e)\n            }}>\n                <label htmlFor=\"title\">Title</label>\n                <input type=\"text\" id=\"title\" defaultValue={post.title} name=\"title\"/>\n                <h2>{post.user}</h2>\n                <label htmlFor=\"content\">content</label>\n                <textarea name=\"content\" id=\"content\" cols=\"30\" rows=\"10\" defaultValue={post.content}></textarea>\n                <p>{post.time}</p>\n                <p>{post.upvote}</p>\n                <button>Update post</button>\n            </form>\n        </div>\n     );\n}\n \nexport default Update;"]},"metadata":{},"sourceType":"module"}