{"ast":null,"code":"var _jsxFileName = \"/home/desafree/social333/src/pages/Update.js\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from \"react-router\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig/firebaseConfig\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = () => {\n  _s();\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    id\n  } = location.state;\n  console.log(id);\n\n  function updatePost(e) {\n    e.preventDefault();\n    const formRef = document.querySelector('form');\n    const titleNew = formRef.title.value;\n    const contentNew = formRef.content.value;\n    const date = new Date();\n    let dateTextNew = date.toString();\n    const docRef = doc(db, 'posts', post.id);\n    updateDoc(docRef, {\n      title: titleNew,\n      content: contentNew,\n      time: dateTextNew\n    }).then(() => {\n      console.log('update doc');\n      navigate('/');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        updatePost(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Update post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Update, \"ZmJpvzBBf8J7VCgSKqUUk0eHjAY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["/home/desafree/social333/src/pages/Update.js"],"names":["useLocation","doc","updateDoc","db","useNavigate","Update","location","navigate","id","state","console","log","updatePost","e","preventDefault","formRef","document","querySelector","titleNew","title","value","contentNew","content","date","Date","dateTextNew","toString","docRef","post","time","then"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,cAA5B;AACA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,EAAT,QAAmB,kCAAnB;AACA,SAASC,WAAT,QAA4B,cAA5B;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEjB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAMO,QAAQ,GAAGH,WAAW,EAA5B;AACA,QAAM;AAACI,IAAAA;AAAD,MAAOF,QAAQ,CAACG,KAAtB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;;AAEA,WAASI,UAAT,CAAoBC,CAApB,EAAuB;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAhB;AAEA,UAAMC,QAAQ,GAAGH,OAAO,CAACI,KAAR,CAAcC,KAA/B;AACA,UAAMC,UAAU,GAAGN,OAAO,CAACO,OAAR,CAAgBF,KAAnC;AACA,UAAMG,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,QAAIC,WAAW,GAAGF,IAAI,CAACG,QAAL,EAAlB;AAEA,UAAMC,MAAM,GAAG1B,GAAG,CAACE,EAAD,EAAK,OAAL,EAAcyB,IAAI,CAACpB,EAAnB,CAAlB;AACAN,IAAAA,SAAS,CAACyB,MAAD,EAAQ;AACbR,MAAAA,KAAK,EAACD,QADO;AAEbI,MAAAA,OAAO,EAACD,UAFK;AAGbQ,MAAAA,IAAI,EAACJ;AAHQ,KAAR,CAAT,CAIGK,IAJH,CAIQ,MAAI;AACRpB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAJ,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,KAPD;AAQH;;AAED,sBACI;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAGM,CAAD,IAAK;AACjBD,QAAAA,UAAU,CAACC,CAAD,CAAV;AACH,OAFD;AAAA,8BAGI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH,CA5CD;;GAAMR,M;UAEeL,W,EACAI,W;;;KAHfC,M;AA8CN,eAAeA,MAAf","sourcesContent":["import { useLocation } from \"react-router\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebaseConfig/firebaseConfig\";\nimport { useNavigate } from \"react-router\";\n\nconst Update = () => {\n\n    const location = useLocation()\n    const navigate = useNavigate()\n    const {id} = location.state\n\n    console.log(id)\n\n    function updatePost(e) {\n        e.preventDefault()\n        const formRef = document.querySelector('form')\n\n        const titleNew = formRef.title.value\n        const contentNew = formRef.content.value\n        const date = new Date();\n        let dateTextNew = date.toString()\n\n        const docRef = doc(db, 'posts', post.id)\n        updateDoc(docRef,{\n            title:titleNew,\n            content:contentNew,\n            time:dateTextNew\n        }).then(()=>{\n            console.log('update doc')\n            navigate('/')\n        })\n    }\n\n    return ( \n        <div>\n            <form onSubmit={(e)=>{\n                updatePost(e)\n            }}>\n                <label htmlFor=\"title\">Title</label>\n                {/* <input type=\"text\" id=\"title\" defaultValue={post.title} name=\"title\"/>\n                <h2>{post.user}</h2>\n                <label htmlFor=\"content\">content</label>\n                <textarea name=\"content\" id=\"content\" cols=\"30\" rows=\"10\" defaultValue={post.content}></textarea>\n                <p>{post.time}</p>\n                <p>{post.upvote}</p> */}\n                <button>Update post</button>\n            </form>\n        </div>\n     );\n}\n \nexport default Update;"]},"metadata":{},"sourceType":"module"}